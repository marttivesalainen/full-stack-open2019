{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/personService.js","index.js"],"names":["Filter","props","react_default","a","createElement","Fragment","htmlFor","id","value","search","onChange","handleChange","PersonForm","onSubmit","handleSubmit","name","handleNameChange","number","handleNumberChange","type","Persons","_ref","persons","handleRemove","filter","person","length","toLowerCase","match","map","key","onClick","Notification","notification","className","message","url","personService","axios","get","concat","then","response","data","newPerson","post","put","delete","ReactDOM","render","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setSearch","_useState9","_useState10","setNotification","useEffect","catch","err","alert","handleFormChange","event","setter","target","components_Notification","components_Filter","components_PersonForm","preventDefault","existingPerson","find","window","confirm","updatedPerson","setTimeout","components_Persons","personToRemove","document","getElementById"],"mappings":"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","file":"static/js/main.768e82a8.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = props => {\n  return (\n    <>\n      <label htmlFor=\"search\">rajaa näytettäviä </label>\n      <input id=\"search\" value={props.search} onChange={props.handleChange} />\n    </>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = props => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <label htmlFor=\"name\">Nimi:</label>\n        <input id=\"name\" value={props.name} onChange={props.handleNameChange} />\n      </div>\n      <div>\n        <label htmlFor=\"phone\">Numero: </label>\n        <input\n          id=\"phone\"\n          value={props.number}\n          onChange={props.handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Persons = ({ persons, search, handleRemove }) => {\n  return (\n    <ul>\n      {persons\n        .filter(\n          person =>\n            search.length === 0 ||\n            person.name.toLowerCase().match(search.toLowerCase())\n        )\n        .map(person => (\n          <li key={person.name}>\n            {person.name} {person.number}\n            <button key={person.name} onClick={() => handleRemove(person)}>\n              Poista\n            </button>\n          </li>\n        ))}\n    </ul>\n  );\n};\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({ notification }) => {\n  return (\n    <div className={notification.type}>\n      <p>{notification.message}</p>\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from 'axios';\n\nconst url = '/api';\n\nconst getAll = () => {\n  const request = axios.get(`${url}/persons`);\n  return request.then(response => response.data);\n};\n\nconst create = newPerson => {\n  const request = axios.post(`${url}/persons`, newPerson);\n  return request.then(response => response.data);\n};\n\nconst update = (id, newPerson) => {\n  const request = axios.put(`${url}/persons/${id}`, newPerson);\n  return request.then(response => response.data);\n};\n\nconst remove = id => {\n  const request = axios.delete(`${url}/persons/${id}`);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport Notification from './components/Notification';\n\nimport personService from './services/personService';\n\nconst App = () => {\n  const [persons, setPersons] = useState([\n    { name: 'Arto Hellas', number: '1234' }\n  ]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [search, setSearch] = useState('');\n  const [notification, setNotification] = useState('');\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n      .catch(err => alert('error error'));\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const newPerson = { name: newName, number: newNumber };\n\n    const existingPerson = persons.find(\n      person => person.name === newPerson.name\n    );\n\n    if (existingPerson && window.confirm(`Päivitetäänkö ${newPerson.name}?`)) {\n      personService\n        .update(existingPerson.id, newPerson)\n        .then(updatedPerson =>\n          setPersons(\n            persons.map(person =>\n              person.id !== existingPerson.id ? person : updatedPerson\n            )\n          )\n        );\n    } else {\n      personService.create(newPerson).then(() => {\n        setPersons(persons.concat(newPerson));\n\n        setNotification({\n          type: 'success',\n          message: `Henkilö ${newPerson.name} lisätty`\n        });\n\n        setTimeout(() => setNotification(''), 1000);\n      });\n    }\n\n    setNewName('');\n    setNewNumber('');\n  };\n\n  const handleRemove = personToRemove => {\n    if (window.confirm(`Poistetaanko ${personToRemove.name}`)) {\n      personService\n        .remove(personToRemove.id)\n        .then(() => {\n          setPersons(\n            persons\n              .filter(person => person.id !== personToRemove.id)\n              .map(person => person)\n          );\n        })\n        .catch(() => {\n          setNotification({\n            type: 'error',\n            message: `Henkilö ${personToRemove.name} oli jo poistettu`\n          });\n\n          setTimeout(() => setNotification(''), 1000);\n        });\n    }\n  };\n\n  const handleFormChange = (event, setter) => {\n    setter(event.target.value);\n  };\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      {notification && <Notification notification={notification} />}\n      <Filter\n        value={search}\n        handleChange={event => handleFormChange(event, setSearch)}\n      />\n      <h3>Lisää uusi</h3>\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        handleSubmit={handleSubmit}\n        handleNameChange={event => handleFormChange(event, setNewName)}\n        handleNumberChange={event => handleFormChange(event, setNewNumber)}\n      />\n      <h3>Numerot</h3>\n      <Persons search={search} persons={persons} handleRemove={handleRemove} />\n    </div>\n  );\n};\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}